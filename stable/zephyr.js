PIXI=function(e){"use strict";let t=e.utils;var n,i,r,s,a,l,o=((n=o||{})._ctx=new AudioContext,n._buffers=new Map,n._player=function(){if(n._buffers.has(this.src)){let e=n._ctx.createBufferSource();e.buffer=n._buffers.get(this.src),this._gainNode.gain.value=this.volume,e.connect(this._gainNode).connect(n._ctx.destination),e.start(0)}else console.warn("ZephyrJS Audio: "+this.src+" is not ready to be played")},n.from=function(e){let t=new XMLHttpRequest;return t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=()=>{PIXI.Audio._ctx.decodeAudioData(t.response,function(t){PIXI.Audio._buffers.set(e,t)})},t.send(),{_gainNode:PIXI.Audio._ctx.createGain(),src:e,volume:1,play:PIXI.Audio._player}},n),u=void((i=u||{}).write=async(e,t)=>{let n=new Blob([JSON.stringify(e)],{type:JSON});var i=document.createElement("a"),r=URL.createObjectURL(n);i.href=r,i.download=t+".json",document.body.appendChild(i),i.click(),setTimeout(()=>{document.body.removeChild(i),window.URL.revokeObjectURL(r)},0)},i.open=async function(){return[fileHandle]=await window.showOpenFilePicker(),JSON.parse(await (await fileHandle.getFile()).text())}),c=((r=c||{})._map=new Map,r.down=function(e){return!!(r._map.size>0&&r._map.has(e))&&(r._map.set(e,!1),!0)},r.fired=function(e){return!!(r._map.size>0&&r._map.get(e))&&(r._map.set(e,!1),!0)},r),d=((s=d||{})._bounds=document.getElementsByTagName("html")[0].getBoundingClientRect(),s._container=document.getElementsByTagName("html")[0],s.x=0,s.y=0,s.anchor={x:0,y:0},s.width=1,s.height=1,s.setContainer=function(e){let t=e.getBoundingClientRect();t.width*t.height==0?console.error("Cannot use PIXI.Mouse.setContainer() with an invalid element."):(d._container=e,d._bounds=d._container.getBoundingClientRect())},s._btns=["Primary","Middle","Secondary"],s._map=new Map,s.down=function(e){return!!(PIXI.Mouse._map.size>0&&PIXI.Mouse._map.has(e))&&(PIXI.Mouse._map.set(e,!1),!0)},s.fired=function(e){return!!(PIXI.Mouse._map.size>0&&PIXI.Mouse._map.get(e))&&(PIXI.Mouse._map.set(e,!1),!0)},s),h=((a=h||{})._init=function(e){let t=(Math.random()-.5)*this.spread+this.direction;e.alpha=1,e.move={x:this.speed*Math.cos(t),y:this.speed*Math.sin(t)},e.x=this.spawn.x,e.y=this.spawn.y,e.life=this.life,e.scale.x=e.scale.y=this.scaling,this.rotate&&(e.rotation=t+.5*Math.PI)},a._step=function(e){if(this.children.forEach(t=>{(t.life-=e*this.speed)<=0?this.fresh?this._init(t):this.removeChild(t):(t.x+=t.move.x*e,t.y+=t.move.y*e)}),this.children.length<this.maxCount&&this.fresh&&(this._spawnTimer-=e,this._spawnTimer<=0)){this._spawnTimer=this.life/this.maxCount;let t=new PIXI.Sprite(this.baseTexture);t.anchor={x:.5,y:.5},this._init(t),this.addChild(t)}},a.from=function(e,t,n){n||(n={});let i=new PIXI.ParticleContainer(t);return i._init=a._init,i._spawnTimer=0,i.baseTexture=PIXI.Texture.from(e),i.direction=n.direction?n.direction:0,i.life=n.life?n.life:128,i.maxCount=t,i.rotate=!!n.rotate&&n.rotate,i.scaling=n.scaling?n.scaling:1,i.spawn={x:0,y:0},i.speed=n.speed?n.speed:1,i.spread=n.spread?n.spread:0,i.step=a._step,i},a);return t=((l=t||{}).clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},l.mix=function(e,t,n){return e*(1-n)+t*n},l.random=function e(t,n){return Math.random()*(n-t+1)^0+t},l.toggleFullScreen=function(e){e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement?e.cancelFullScreen?e.cancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},l),window.addEventListener("contextmenu",e=>{e.preventDefault()}),window.addEventListener("keydown",e=>{c._map.set(e.code,!0)}),window.addEventListener("keyup",e=>{c._map.delete(e.code)}),window.addEventListener("resize",()=>{d._bounds=d._container.getBoundingClientRect()}),window.addEventListener("mouseup",e=>{d._map.delete(d._btns[e.button])}),window.addEventListener("mousedown",e=>{d._map.set(d._btns[e.button],!0)}),window.addEventListener("mousemove",e=>{d.x=(e.x-d._bounds.left+window.pageXOffset)/d._bounds.width*d._container.width,d.y=(e.y-d._bounds.top+window.pageYOffset)/d._bounds.height*d._container.height}),e.Zephyr={VERSION:"23.4.13",_spriteFix(e){let t=e.width*(e.scale?e.scale.x:1),n=e.height*(e.scale?e.scale.y:1);return{x:e.x-(e.anchor?e.anchor.x*t:0)+Math.min(0,t),y:e.y-(e.anchor?e.anchor.y*n:0)+Math.min(0,n),width:Math.abs(t),height:Math.abs(n)}},useAudio(){console.error("ZephyrJS: useAudio() is deprecated")},useFile(){console.error("ZephyrJS: useFile() is deprecated")},useKeys(){console.error("ZephyrJS: useKeys() is deprecated")},useMouse(){console.error("ZephyrJS: useMouse() is deprecated")},useParticles(){console.error("ZephyrJS: useParticles() is deprecated")}},e.Audio=o,e.File=u,e.Keys=c,e.Mouse=d,e.Particles=h,e.Collision={aabb(e,t){let n=PIXI.Zephyr._spriteFix(e),i=PIXI.Zephyr._spriteFix(t);return!(n.x+e.width<i.x||n.y+e.height<i.y||n.x>i.x+t.width||n.y>i.y+t.height)},radius:(e,t)=>Math.hypot(e.x-t.x+(e.width-t.width)*.5,e.y-t.y+(e.height-t.height)*.5)<=(Math.max(e.width,e.height)+Math.max(t.width,t.height))*.5},e.toggleFullScreen=function e(t){t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement?t.cancelFullScreen?t.cancelFullScreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen():t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},e.utils=t,e}(PIXI||{});