"use strict";PIXI.Audio={},PIXI.File={},PIXI.Particles={},PIXI.Zephyr={version:"ZephyrJS 23.4",compatible:"PixiJS v7.2.3",_spriteFix(e){let t=e.width*(e.scale?e.scale.x:1),s=e.height*(e.scale?e.scale.y:1);return{x:e.x-(e.anchor?e.anchor.x*t:0)+Math.min(0,t),y:e.y-(e.anchor?e.anchor.y*s:0)+Math.min(0,s),width:Math.abs(t),height:Math.abs(s)}},useKeys(){PIXI.Keys={map:new Map,down:e=>!!(PIXI.Keys.map.size>0&&PIXI.Keys.map.has(e))&&(PIXI.Keys.map.set(e,!1),!0),fired:e=>!!(PIXI.Keys.map.size>0&&PIXI.Keys.map.get(e))&&(PIXI.Keys.map.set(e,!1),!0)},window.addEventListener("keydown",e=>{PIXI.Keys.map.set(e.code,!0)}),window.addEventListener("keyup",e=>{PIXI.Keys.map.delete(e.code)})},useMouse(){PIXI.Mouse={bounds:document.getElementsByTagName("html")[0].getBoundingClientRect(),container:document.getElementsByTagName("html")[0],x:0,y:0,anchor:{x:0,y:0},width:1,height:1,setContainer(e){let t=e.getBoundingClientRect();t.width*t.height==0?console.error("Cannot use PIXI.Mouse.setContainer() with an invalid element."):(PIXI.Mouse.container=e,PIXI.Mouse.bounds=PIXI.Mouse.container.getBoundingClientRect())},ALIAS:["Primary","Middle","Secondary"],map:new Map,down:e=>!!(PIXI.Mouse.map.size>0&&PIXI.Mouse.map.has(e))&&(PIXI.Mouse.map.set(e,!1),!0),fired:e=>!!(PIXI.Mouse.map.size>0&&PIXI.Mouse.map.get(e))&&(PIXI.Mouse.map.set(e,!1),!0)},window.onresize=()=>{PIXI.Mouse.bounds=PIXI.Mouse.container.getBoundingClientRect()},window.addEventListener("mouseup",e=>{PIXI.Mouse.map.delete(PIXI.Mouse.ALIAS[e.button])}),window.addEventListener("mousedown",e=>{PIXI.Mouse.map.set(PIXI.Mouse.ALIAS[e.button],!0)}),window.addEventListener("mousemove",e=>{PIXI.Mouse.x=(e.x-PIXI.Mouse.bounds.left+window.pageXOffset)/PIXI.Mouse.bounds.width*PIXI.Mouse.container.width,PIXI.Mouse.y=(e.y-PIXI.Mouse.bounds.top+window.pageYOffset)/PIXI.Mouse.bounds.height*PIXI.Mouse.container.height})},useAudio(){PIXI.Audio={ctx:new AudioContext,buffers:new Map,_player:function(){if(PIXI.Audio.buffers.has(this.src)){let e=PIXI.Audio.ctx.createBufferSource();e.buffer=PIXI.Audio.buffers.get(this.src),e.connect(PIXI.Audio.ctx.destination),e.start(0)}},from(e){let t=new XMLHttpRequest;return t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=()=>{PIXI.Audio.ctx.decodeAudioData(t.response,function(t){PIXI.Audio.buffers.set(e,t)})},t.send(),{src:e,play:PIXI.Audio._player}}}},useFile(){PIXI.File={async write(e,t){let s=new Blob([JSON.stringify(e)],{type:JSON});var i=document.createElement("a"),n=URL.createObjectURL(s);i.href=n,i.download=t+".json",document.body.appendChild(i),i.click(),setTimeout(()=>{document.body.removeChild(i),window.URL.revokeObjectURL(n)},0)},open:async()=>([fileHandle]=await window.showOpenFilePicker(),JSON.parse(await (await fileHandle.getFile()).text()))}},useParticles(){PIXI.Particles={_step:function(e){let t=e=>{let t=(Math.random()-.5)*this.spread+this.direction;e.move={x:this.speed*Math.cos(t),y:this.speed*Math.sin(t)},e.x=this.spawn.x,e.y=this.spawn.y,e.life=this.life};if(this.children.length<this.maxCount&&(this._spawnTimer-=e,this._spawnTimer<=0)){this._spawnTimer=this.life/this.maxCount;let s=new PIXI.Sprite(this.baseTexture);s.anchor={x:.5,y:.5},t(s),this.addChild(s)}this.children.forEach(s=>{s.x+=s.move.x*e,s.y+=s.move.y*e,(s.life-=e*this.speed)<=0&&t(s)})},from(e,t,s){s||(s={});let i=new PIXI.ParticleContainer(t);return i._spawnTimer=0,i.maxCount=t,i.baseTexture=PIXI.Texture.from(e),i.life=s.life?s.life:128,i.speed=s.speed?s.speed:1,i.direction=s.direction?s.direction:0,i.spread=s.spread?s.spread:6.2831853072,i.step=PIXI.Particles._step,i.spawn={x:s.x?s.x:1,y:s.y?s.y:1},i}}}},PIXI.collision={aabb(e,t){let s=PIXI.Zephyr._spriteFix(e),i=PIXI.Zephyr._spriteFix(t);return!(s.x+e.width<i.x||s.y+e.height<i.y||s.x>i.x+t.width||s.y>i.y+t.height)},radius:(e,t)=>Math.hypot(e.x-t.x+(e.width-t.width)*.5,e.y-t.y+(e.height-t.height)*.5)<=(Math.max(e.width,e.height)+Math.max(t.width,t.height))*.5},PIXI.clamp=(e,t,s)=>Math.min(Math.max(e,t),s),PIXI.mix=(e,t,s)=>e*(1-s)+t*s,PIXI.rand=(e,t)=>Math.random()*(t-e+1)^0+e,PIXI.toggleFullScreen=e=>{e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement?e.cancelFullScreen?e.cancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},window.addEventListener("contextmenu",e=>{e.preventDefault()}),console.log("%cUsing "+PIXI.Zephyr.version+"! https://github.com/OttCS/ZephyrJS","color:#ef6f6c"),console.log("%cCompatible with "+PIXI.Zephyr.compatible,"color:#ea1e63");