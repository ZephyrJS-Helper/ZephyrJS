"use strict";PIXI.Keys={},PIXI.Mouse={},PIXI.Audio={},PIXI.FileIO={},PIXI.Zephyr={version:"ZephyrJS 22.10",useKeys(){PIXI.Keys.map=new Map,PIXI.Keys.down=e=>!!(PIXI.Keys.map.size>0&&PIXI.Keys.map.has(e))&&(PIXI.Keys.map.set(e,!1),!0),PIXI.Keys.fired=e=>!!(PIXI.Keys.map.size>0&&PIXI.Keys.map.get(e))&&(PIXI.Keys.map.set(e,!1),!0),window.addEventListener("keydown",e=>{e.preventDefault(),PIXI.Keys.map.set(e.code,!0)}),window.addEventListener("keyup",e=>{PIXI.Keys.map.delete(e.code)})},useMouse(){PIXI.Mouse.bounds=document.getElementsByTagName("html")[0].getBoundingClientRect(),PIXI.Mouse.container=document.getElementsByTagName("html")[0],PIXI.Mouse.setContainer=e=>{PIXI.Mouse.container=e,PIXI.Mouse.bounds=e.getBoundingClientRect()},window.onresize=()=>{PIXI.Mouse.bounds=PIXI.Mouse.container.getBoundingClientRect()},PIXI.Mouse.alias=["Primary","Middle","Secondary"],PIXI.Mouse.map=new Map,PIXI.Mouse.down=e=>!!(PIXI.Mouse.map.size>0&&PIXI.Mouse.map.has(e))&&(PIXI.Mouse.map.set(e,!1),!0),PIXI.Mouse.fired=e=>!!(PIXI.Mouse.map.size>0&&PIXI.Mouse.map.get(e))&&(PIXI.Mouse.map.set(e,!1),!0),window.addEventListener("mouseup",e=>{PIXI.Mouse.map.delete(PIXI.Mouse.alias[e.button])}),window.addEventListener("mousedown",e=>{PIXI.Mouse.map.set(PIXI.Mouse.alias[e.button],!0)}),window.addEventListener("mousemove",e=>{PIXI.Mouse.x=(e.x-PIXI.Mouse.bounds.left)/PIXI.Mouse.bounds.width,PIXI.Mouse.y=(e.y-PIXI.Mouse.bounds.top)/PIXI.Mouse.bounds.height})},useAudio(){PIXI.Audio.ctx=new AudioContext,PIXI.Audio.buffers=new Map,PIXI.Audio.from=e=>{let s=new XMLHttpRequest;return s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=()=>{PIXI.Audio.ctx.decodeAudioData(s.response,function(s){PIXI.Audio.buffers.set(e,s)})},s.send(),{src:e,play(){if(PIXI.Audio.buffers.has(e)){let s=PIXI.Audio.ctx.createBufferSource();s.buffer=PIXI.Audio.buffers.get(e),s.connect(PIXI.Audio.ctx.destination),s.start(0)}}}}},useFile(){PIXI.File.write=async(e,s)=>{let t=new Blob([JSON.stringify(e)],{type:JSON});var o=document.createElement("a"),n=URL.createObjectURL(t);o.href=n,o.download=s+".json",document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),window.URL.revokeObjectURL(n)},0)},PIXI.File.open=async()=>([fileHandle]=await window.showOpenFilePicker(),JSON.parse(await (await fileHandle.getFile()).text()))},spriteFix(e){let s=e.anchor?e.anchor:{x:0,y:0};return{x:-e.width*s.x+e.x,y:-e.height*s.y+e.y,width:e.width,height:e.height}}},PIXI.collision={aabb(e,s){let t=PIXI.Zephyr.spriteFix(e),o=PIXI.Zephyr.spriteFix(s);return!(t.x+e.width<o.x||t.y+e.height<o.y||t.x>o.x+s.width||t.y>o.y+s.height)},radius(e,s){let t=PIXI.Zephyr.spriteFix(e),o=PIXI.Zephyr.spriteFix(s);return Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2))<=e.r+s.r}},PIXI.clamp=(e,s,t)=>Math.min(Math.max(e,s),t),PIXI.mix=(e,s,t)=>e*(1-t)+s*t,PIXI.rand=(e,s)=>Math.random()*(s-e+1)^0+e,PIXI.utils.requestFullScreen=e=>{e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},window.addEventListener("contextmenu",e=>{e.preventDefault()}),console.log("%cUsing "+PIXI.Zephyr.version+"! https://github.com/OttCS/ZephyrJS","text-decoration: none;border-radius: 4px;margin: 4px 0;padding: 4px;color: #EF6F6C;border: 2px solid #EF6F6C;");